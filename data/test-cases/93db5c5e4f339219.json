{"uid":"93db5c5e4f339219","name":"Количество единиц товара и итоговая стоимость в модалке корректные","fullName":"tests.test_product_page.TestProductPage#test_should_be_correct_unit_quan_and_total_price_in_modal","historyId":"0d8f7c52eef66ac5ec906f24c02742d3","time":{"start":1770750010895,"stop":1770750016961,"duration":6066},"status":"failed","statusMessage":"AssertionError: Некорректное значение в Поле: Счетчик единиц товара на странице!\nExpected value: '2'\nActual value: 1 \nCall log:\n  - Expect \"to_have_value\" with timeout 5000ms\n  - waiting for locator(\"[id=\\\"o_wsale_cta_wrapper\\\"] [name=\\\"add_qty\\\"]\")\n    4 × locator resolved to <input value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\n      - unexpected value \"1\"\n    5 × locator resolved to <input title=\"\" value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\n      - unexpected value \"1\"","statusTrace":"self = <test_product_page.TestProductPage object at 0x7fa59cfe0510>\nadd_quantity = 15, pre_go_to_customize_desk_page = None\n\n    @allure.feature('Товар')\n    @allure.title('Количество единиц товара и итоговая стоимость в модалке корректные')\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.parametrize('add_quantity', [1, 2, 5, 8, 11, 15, 20, 33])\n    def test_should_be_correct_unit_quan_and_total_price_in_modal(self, add_quantity, pre_go_to_customize_desk_page):\n>       self.product_page.add_multiple_units_of_prod(quantity=add_quantity)\n\ntests/test_product_page.py:79: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/product_page.py:136: in add_multiple_units_of_prod\n    self.expect.input_to_have_value(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <expects_and_asserts.expects_and_asserts.ExpectsAndAsserts object at 0x7fa59c783590>\nelement = <Locator frame=<Frame name= url='http://testshop.qa-practice.com/shop/customizable-desk-9#attr=1,3'> selector='[id=\"o_wsale_cta_wrapper\"] [name=\"add_qty\"]'>\nelement_name = 'Поле: Счетчик единиц товара на странице', exp_value = '2'\n\n    def input_to_have_value(\n            self,\n            element,\n            element_name,\n            exp_value\n    ):\n        try:\n            expect(\n                actual=element,\n                message=f'Некорректное значение в {element_name}!'\n>           ).to_have_value(value=exp_value)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE           AssertionError: Некорректное значение в Поле: Счетчик единиц товара на странице!\nE           Expected value: '2'\nE           Actual value: 1 \nE           Call log:\nE             - Expect \"to_have_value\" with timeout 5000ms\nE             - waiting for locator(\"[id=\\\"o_wsale_cta_wrapper\\\"] [name=\\\"add_qty\\\"]\")\nE               4 × locator resolved to <input value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\nE                 - unexpected value \"1\"\nE               5 × locator resolved to <input title=\"\" value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\nE                 - unexpected value \"1\"\n\nexpects_and_asserts/expects_and_asserts.py:99: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1770749797589,"stop":1770749797589,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1770749797589,"stop":1770749797590,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1770749797590,"stop":1770749797592,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1770749797592,"stop":1770749797592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1770749797592,"stop":1770749797592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1770749797592,"stop":1770749797592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1770749797592,"stop":1770749798111,"duration":519},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1770749798112,"stop":1770749798112,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1770749798112,"stop":1770749798112,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1770749798112,"stop":1770749798112,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1770749798112,"stop":1770749798656,"duration":544},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1770749798656,"stop":1770749798657,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1770749798656,"stop":1770749798656,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1770749798657,"stop":1770749798657,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1770750006964,"stop":1770750006964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1770750006964,"stop":1770750006981,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1770750006964,"stop":1770750006964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1770750006964,"stop":1770750006964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1770750006981,"stop":1770750007175,"duration":194},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1770750007175,"stop":1770750007175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pre_go_to_customize_desk_page","time":{"start":1770750007176,"stop":1770750010894,"duration":3718},"status":"passed","steps":[{"name":"Открыть страницу: http://testshop.qa-practice.com/shop/customizable-desk-9#attr=1,3","time":{"start":1770750007176,"stop":1770750010894,"duration":3718},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Некорректное значение в Поле: Счетчик единиц товара на странице!\nExpected value: '2'\nActual value: 1 \nCall log:\n  - Expect \"to_have_value\" with timeout 5000ms\n  - waiting for locator(\"[id=\\\"o_wsale_cta_wrapper\\\"] [name=\\\"add_qty\\\"]\")\n    4 × locator resolved to <input value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\n      - unexpected value \"1\"\n    5 × locator resolved to <input title=\"\" value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\n      - unexpected value \"1\"","statusTrace":"self = <test_product_page.TestProductPage object at 0x7fa59cfe0510>\nadd_quantity = 15, pre_go_to_customize_desk_page = None\n\n    @allure.feature('Товар')\n    @allure.title('Количество единиц товара и итоговая стоимость в модалке корректные')\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.parametrize('add_quantity', [1, 2, 5, 8, 11, 15, 20, 33])\n    def test_should_be_correct_unit_quan_and_total_price_in_modal(self, add_quantity, pre_go_to_customize_desk_page):\n>       self.product_page.add_multiple_units_of_prod(quantity=add_quantity)\n\ntests/test_product_page.py:79: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/product_page.py:136: in add_multiple_units_of_prod\n    self.expect.input_to_have_value(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <expects_and_asserts.expects_and_asserts.ExpectsAndAsserts object at 0x7fa59c783590>\nelement = <Locator frame=<Frame name= url='http://testshop.qa-practice.com/shop/customizable-desk-9#attr=1,3'> selector='[id=\"o_wsale_cta_wrapper\"] [name=\"add_qty\"]'>\nelement_name = 'Поле: Счетчик единиц товара на странице', exp_value = '2'\n\n    def input_to_have_value(\n            self,\n            element,\n            element_name,\n            exp_value\n    ):\n        try:\n            expect(\n                actual=element,\n                message=f'Некорректное значение в {element_name}!'\n>           ).to_have_value(value=exp_value)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE           AssertionError: Некорректное значение в Поле: Счетчик единиц товара на странице!\nE           Expected value: '2'\nE           Actual value: 1 \nE           Call log:\nE             - Expect \"to_have_value\" with timeout 5000ms\nE             - waiting for locator(\"[id=\\\"o_wsale_cta_wrapper\\\"] [name=\\\"add_qty\\\"]\")\nE               4 × locator resolved to <input value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\nE                 - unexpected value \"1\"\nE               5 × locator resolved to <input title=\"\" value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\nE                 - unexpected value \"1\"\n\nexpects_and_asserts/expects_and_asserts.py:99: AssertionError","steps":[{"name":"Добавить несколько единиц одного товара","time":{"start":1770750010895,"stop":1770750016960,"duration":6065},"status":"failed","statusMessage":"AssertionError: Некорректное значение в Поле: Счетчик единиц товара на странице!\nExpected value: '2'\nActual value: 1 \nCall log:\n  - Expect \"to_have_value\" with timeout 5000ms\n  - waiting for locator(\"[id=\\\"o_wsale_cta_wrapper\\\"] [name=\\\"add_qty\\\"]\")\n    4 × locator resolved to <input value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\n      - unexpected value \"1\"\n    5 × locator resolved to <input title=\"\" value=\"1\" type=\"text\" data-min=\"1\" name=\"add_qty\" class=\"form-control quantity text-center\"/>\n      - unexpected value \"1\"\n\n","statusTrace":"  File \"/usr/workspace/pages/product_page.py\", line 136, in add_multiple_units_of_prod\n    self.expect.input_to_have_value(\n  File \"/usr/workspace/expects_and_asserts/expects_and_asserts.py\", line 99, in input_to_have_value\n    ).to_have_value(value=exp_value)\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/playwright/sync_api/_generated.py\", line 19788, in to_have_value\n    self._sync(self._impl_obj.to_have_value(value=value, timeout=timeout))\n  File \"/usr/local/lib/python3.11/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/playwright/_impl/_assertions.py\", line 479, in to_have_value\n    await self._expect_impl(\n  File \"/usr/local/lib/python3.11/site-packages/playwright/_impl/_assertions.py\", line 83, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Прикрепить скриншот","time":{"start":1770750016847,"stop":1770750016960,"duration":113},"status":"passed","steps":[],"attachments":[{"uid":"b2a779b1a044b8b","name":"Поле: Счетчик единиц товара на странице","source":"b2a779b1a044b8b.png","type":"image/png","size":635755}],"parameters":[{"name":"screenshot_name","value":"'Поле: Счетчик единиц товара на странице'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"new_context::0","time":{"start":1770750016977,"stop":1770750016998,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1770750016998,"stop":1770750016998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1770750048250,"stop":1770750048250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1770750048251,"stop":1770750048391,"duration":140},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1770750048392,"stop":1770750048400,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"critical"},{"name":"feature","value":"Товар"},{"name":"suite","value":"Страница товара"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestProductPage"},{"name":"host","value":"ec6261870f39"},{"name":"thread","value":"13-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_product_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"add_quantity","value":"15"},{"name":"browser_name","value":"'firefox'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"93db5c5e4f339219.json","parameterValues":["15","'firefox'"]}